<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=IM+Fell+English" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>D & D Character Builder</title>
</head>

<body>


    <div id="welcome">
        <div id=main_head>
            <h1>D & D Character Builder</h1>
        </div>
        <div id="subhead">
            <h2>Welcome to the Dungeons and Dragons Character Builder! Create a character and track its race, class,
                abilities, inventory and more.</h2>
            <div id="button_holder">
                <!-- Modal -->
                <!-- <div class="w3-container"> -->
                <!-- Trigger modal with Log In button -->
                <button onclick="document.getElementById('id01').style.display='block'; document.getElementById('id02').style.display='none'" id="logIn">Log In</button>
                <!-- Trigger modal with Log In button -->
                <button onclick="document.getElementById('id02').style.display='block';document.getElementById('id01').style.display='none'" id="create_acct">Create
                    Account</button>

            </div>

        </div>

        <div id="id01" class="w3-modal" style="display:none">
            <div class="w3-modal-content">
                <div class="w3-container">
                    <h2>Enter your login info:</h2>
                    <div>
                        <div class="modalText"><strong>Email address</strong<>
                                <br />
                                <input type="text" id="email" class="box">
                                <div class="modalText"><strong>Password</strong></div>
                                <input type="text" id="password" class="box">
                        </div>

                        <div id="modalButtonBox">
                            <!-- Take user to site with Log In button -->
                            <button onclick="document.getElementById('id01').style.display='block'" id="logInModal">Log
                                In</button>
                            <button onclick="document.getElementById('id01').style.display='none'"
                                id="cancelModal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="id02" class="w3-modal" style="display:none">
            <div class="w3-modal-content">
                <div class="w3-container">
                    <h2>Create an Account:</h2>
                    <div>
                        <div class="modalText"><strong>Email address</strong<>
                                <br />
                                <input type="text" id="newEmail" class="box">
                                <div class="modalText"><strong>Password</strong></div>
                                <input type="text" id="newPassword" class="box">
                        </div>

                        <div id="modalButtonBox">
                            <!-- Take user to site with Log In button -->
                            <!-- <button onclick="document.getElementById('id01').style.display='block'" id="logInModal">Log In</button> -->
                            <button onclick="document.getElementById('id02').style.display='none'"
                                id="submit">Submit</button>
                            <button onclick="document.getElementById('id02').style.display='none'"
                                id="cancelModal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>


        </div>


<script>
$("#logInModal").on("click", function(event) {

  var login = {
    email: $("#email")
      .val()
      .trim(),
    password: $("#password")
      .val()
      .trim(),    
  };

  $.post("/signin", login).then(function(data) {
    if (data) {
        window.location.href = "/characters";
    }
  });

});
$("#submit").on("click", function(event) {

var login = {
  email: $("#newEmail")
    .val()
    .trim(),
  password: $("#newPassword")
    .val()
    .trim(),    
};

$.post("/signup", login).then(function(data) {
  if (data) {
      window.location.href = "/characters";
  }
});

});
</script>
</body>



</html>